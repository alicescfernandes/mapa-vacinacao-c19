{"ast":null,"code":"import { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\n\nvar _jsxFileName = \"/home/pi/Web/mapa-vacinacao-c19/components/graphs/LineVacinadosInfecoesRecuperados.jsx\",\n    _s = $RefreshSig$();\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nimport { useEffect, useRef, useState } from 'react';\nimport { Bar } from 'react-chartjs-2';\nimport { RESIZE_TRESHOLD } from '../../constants';\nimport { formatNumber } from '../../utils';\nimport { Card } from './../Card';\nexport function LineVacinadosInfecoesRecuperados(_ref) {\n  _s();\n\n  var statistics = _ref.statistics,\n      colors = _ref.colors;\n\n  var _useState = useState(true),\n      loading = _useState[0],\n      setLoading = _useState[1];\n\n  var marriedData = {};\n\n  var _statistics$getDiario = statistics.getDiariosInoculacoes(),\n      values = _statistics$getDiario.values,\n      labels = _statistics$getDiario.labels,\n      valuesIn1 = _statistics$getDiario.valuesIn1,\n      valuesIn2 = _statistics$getDiario.valuesIn2,\n      rawDiarios = _statistics$getDiario.raw;\n\n  var _statistics$getDiario2 = statistics.getDiariosCases(),\n      valueCasesDiarios = _statistics$getDiario2.values,\n      rawCasos = _statistics$getDiario2.raw;\n\n  var main = colors.main,\n      shades = colors.shades,\n      tints = colors.tints,\n      complements = colors.complements; //map the last 30 days in data\n  //Marry the data pls\n\n  if (labels.length > 0) {\n    var datesVaccines = Array.from(rawDiarios).reverse().slice(0, 14);\n    var datesCases = Array.from(rawCasos).reverse().slice(0, 14);\n    datesVaccines.forEach(function (element) {\n      var date = new Date(element.Data);\n      var key = \"\".concat(date.getUTCFullYear(), \"_\").concat(date.getMonth(), \"_\").concat(date.getDate());\n      marriedData[key] = element;\n    });\n    datesCases.forEach(function (element, i) {\n      var date = new Date(element.Data);\n      var key = \"\".concat(date.getUTCFullYear(), \"_\").concat(date.getMonth(), \"_\").concat(date.getDate());\n\n      if (marriedData[key] !== undefined) {\n        marriedData[key] = _objectSpread(_objectSpread({}, element), marriedData[key]);\n      }\n    });\n  }\n\n  marriedData = Object.values(marriedData).reverse();\n\n  var data = function data(canvas) {\n    if (window.innerWidth <= RESIZE_TRESHOLD) {\n      canvas.parentNode.style.width = RESIZE_TRESHOLD + 'px';\n    } else {\n      canvas.parentNode.style.width = 'auto';\n    }\n\n    window.addEventListener('resize', function () {\n      if (window.innerWidth <= RESIZE_TRESHOLD) {\n        canvas.parentNode.style.width = RESIZE_TRESHOLD + 'px';\n      } else {\n        canvas.parentNode.style.width = '100%';\n      }\n    });\n    return {\n      labels: labels.slice(labels.length - 14, labels.length),\n      datasets: [{\n        label: 'Inoculação - 2ª Dose',\n        fill: false,\n        type: 'bar',\n        backgroundColor: main,\n        data: valuesIn2.slice(valuesIn2.length - 14, valuesIn2.length),\n        stack: 'stack0',\n        order: 1\n      }, {\n        label: 'Inoculação - 1ª Dose',\n        backgroundColor: shades[0],\n        borderColor: shades[0],\n        data: valuesIn1.slice(valuesIn1.length - 14, valuesIn1.length),\n        stack: 'stack0',\n        order: 2\n      }, {\n        label: 'Vacinas Totais',\n        type: 'bar',\n        backgroundColor: shades[1],\n        data: values.slice(values.length - 14, values.length),\n        stack: 'stack0',\n        yAxisID: 'total',\n        order: 3\n      }, {\n        label: 'Número de infectados diário',\n        type: 'bar',\n        backgroundColor: complements[1],\n        data: marriedData.map(function (el) {\n          return el.ConfirmadosNovos;\n        }),\n        stack: 'stack1',\n        yAxisID: 'total',\n        order: 4\n      }, {\n        label: 'Número de recuperados diário',\n        type: 'bar',\n        backgroundColor: complements[2],\n        data: marriedData.map(function (el) {\n          return el.VarRecuperados;\n        }),\n        stack: 'stack2',\n        yAxisID: 'total',\n        order: 5\n      }]\n    };\n  };\n\n  var options = function options() {\n    return {\n      plugins: {\n        datalabels: {\n          display: false,\n          color: 'blue'\n        }\n      },\n      legend: {\n        position: 'bottom',\n        align: 'start'\n      },\n      animation: {\n        duration: 1000\n      },\n      tooltips: {\n        mode: 'index',\n        intersect: false,\n        callbacks: {\n          label: function label(tooltipItem, data) {\n            var label = data.datasets[tooltipItem.datasetIndex].label;\n            return label + ': ' + formatNumber(parseInt(tooltipItem.value), false);\n          },\n          title: function title(tooltipItem, data) {\n            var label = data.datasets[tooltipItem[0].datasetIndex];\n            return 'Dia ' + tooltipItem[0].label;\n          }\n        }\n      },\n      scales: {\n        yAxes: [{\n          stacked: true,\n          ticks: {\n            maxTicksLimit: window.innerWidth <= RESIZE_TRESHOLD ? 8 : 10,\n            minTicksLimit: window.innerWidth <= RESIZE_TRESHOLD ? 8 : 10,\n            callback: function callback(value, index, values) {\n              return formatNumber(value, false);\n            }\n          }\n        }, {\n          stacked: false,\n          id: 'total',\n          display: false,\n          ticks: {\n            maxTicksLimit: window.innerWidth <= RESIZE_TRESHOLD ? 8 : 10,\n            minTicksLimit: window.innerWidth <= RESIZE_TRESHOLD ? 8 : 10\n          }\n        }],\n        xAxes: [{\n          stacked: true,\n          ticks: {\n            beginAtZero: true\n          }\n        }]\n      }\n    };\n  };\n\n  useEffect(function () {\n    if (values.length > 0) {\n      setLoading(false);\n    }\n  }, [values, labels]);\n  return /*#__PURE__*/_jsxDEV(Card, {\n    allowOverflow: true,\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      children: !loading ? /*#__PURE__*/_jsxDEV(Bar, {\n        height: 80,\n        options: options(),\n        data: data\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 175,\n        columnNumber: 21\n      }, this) : ''\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 175,\n      columnNumber: 4\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 174,\n    columnNumber: 3\n  }, this);\n}\n\n_s(LineVacinadosInfecoesRecuperados, \"J7PPXooW06IQ11rfabbvgk72KFw=\");\n\n_c = LineVacinadosInfecoesRecuperados;\n\nvar _c;\n\n$RefreshReg$(_c, \"LineVacinadosInfecoesRecuperados\");","map":{"version":3,"sources":["/home/pi/Web/mapa-vacinacao-c19/components/graphs/LineVacinadosInfecoesRecuperados.jsx"],"names":["useEffect","useRef","useState","Bar","RESIZE_TRESHOLD","formatNumber","Card","LineVacinadosInfecoesRecuperados","statistics","colors","loading","setLoading","marriedData","getDiariosInoculacoes","values","labels","valuesIn1","valuesIn2","rawDiarios","raw","getDiariosCases","valueCasesDiarios","rawCasos","main","shades","tints","complements","length","datesVaccines","Array","from","reverse","slice","datesCases","forEach","element","date","Date","Data","key","getUTCFullYear","getMonth","getDate","i","undefined","Object","data","canvas","window","innerWidth","parentNode","style","width","addEventListener","datasets","label","fill","type","backgroundColor","stack","order","borderColor","yAxisID","map","el","ConfirmadosNovos","VarRecuperados","options","plugins","datalabels","display","color","legend","position","align","animation","duration","tooltips","mode","intersect","callbacks","tooltipItem","datasetIndex","parseInt","value","title","scales","yAxes","stacked","ticks","maxTicksLimit","minTicksLimit","callback","index","id","xAxes","beginAtZero"],"mappings":"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","sourcesContent":["import { useEffect, useRef, useState } from 'react';\nimport { Bar } from 'react-chartjs-2';\nimport { RESIZE_TRESHOLD } from '../../constants';\nimport { formatNumber } from '../../utils';\nimport { Card } from './../Card';\nexport function LineVacinadosInfecoesRecuperados({ statistics, colors }) {\n\tlet [loading, setLoading] = useState(true);\n\tlet marriedData = {};\n\tlet { values, labels, valuesIn1, valuesIn2, raw: rawDiarios } = statistics.getDiariosInoculacoes();\n\tlet { values: valueCasesDiarios, raw: rawCasos } = statistics.getDiariosCases();\n\tlet { main, shades, tints, complements } = colors;\n\n\t//map the last 30 days in data\n\t//Marry the data pls\n\tif (labels.length > 0) {\n\t\tlet datesVaccines = Array.from(rawDiarios).reverse().slice(0, 14);\n\t\tlet datesCases = Array.from(rawCasos).reverse().slice(0, 14);\n\t\tdatesVaccines.forEach((element) => {\n\t\t\tlet date = new Date(element.Data);\n\t\t\tlet key = `${date.getUTCFullYear()}_${date.getMonth()}_${date.getDate()}`;\n\t\t\tmarriedData[key] = element;\n\t\t});\n\n\t\tdatesCases.forEach((element, i) => {\n\t\t\tlet date = new Date(element.Data);\n\t\t\tlet key = `${date.getUTCFullYear()}_${date.getMonth()}_${date.getDate()}`;\n\t\t\tif (marriedData[key] !== undefined) {\n\t\t\t\tmarriedData[key] = {\n\t\t\t\t\t...element,\n\t\t\t\t\t...marriedData[key],\n\t\t\t\t};\n\t\t\t}\n\t\t});\n\t}\n\tmarriedData = Object.values(marriedData).reverse();\n\n\tconst data = (canvas) => {\n\t\tif (window.innerWidth <= RESIZE_TRESHOLD) {\n\t\t\tcanvas.parentNode.style.width = RESIZE_TRESHOLD + 'px';\n\t\t} else {\n\t\t\tcanvas.parentNode.style.width = 'auto';\n\t\t}\n\n\t\twindow.addEventListener('resize', () => {\n\t\t\tif (window.innerWidth <= RESIZE_TRESHOLD) {\n\t\t\t\tcanvas.parentNode.style.width = RESIZE_TRESHOLD + 'px';\n\t\t\t} else {\n\t\t\t\tcanvas.parentNode.style.width = '100%';\n\t\t\t}\n\t\t});\n\n\t\treturn {\n\t\t\tlabels: labels.slice(labels.length - 14, labels.length),\n\t\t\tdatasets: [\n\t\t\t\t{\n\t\t\t\t\tlabel: 'Inoculação - 2ª Dose',\n\t\t\t\t\tfill: false,\n\t\t\t\t\ttype: 'bar',\n\t\t\t\t\tbackgroundColor: main,\n\t\t\t\t\tdata: valuesIn2.slice(valuesIn2.length - 14, valuesIn2.length),\n\t\t\t\t\tstack: 'stack0',\n\t\t\t\t\torder: 1,\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\tlabel: 'Inoculação - 1ª Dose',\n\t\t\t\t\tbackgroundColor: shades[0],\n\t\t\t\t\tborderColor: shades[0],\n\t\t\t\t\tdata: valuesIn1.slice(valuesIn1.length - 14, valuesIn1.length),\n\t\t\t\t\tstack: 'stack0',\n\t\t\t\t\torder: 2,\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\tlabel: 'Vacinas Totais',\n\t\t\t\t\ttype: 'bar',\n\t\t\t\t\tbackgroundColor: shades[1],\n\t\t\t\t\tdata: values.slice(values.length - 14, values.length),\n\t\t\t\t\tstack: 'stack0',\n\t\t\t\t\tyAxisID: 'total',\n\n\t\t\t\t\torder: 3,\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\tlabel: 'Número de infectados diário',\n\t\t\t\t\ttype: 'bar',\n\t\t\t\t\tbackgroundColor: complements[1],\n\t\t\t\t\tdata: marriedData.map((el) => el.ConfirmadosNovos),\n\t\t\t\t\tstack: 'stack1',\n\t\t\t\t\tyAxisID: 'total',\n\t\t\t\t\torder: 4,\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\tlabel: 'Número de recuperados diário',\n\t\t\t\t\ttype: 'bar',\n\t\t\t\t\tbackgroundColor: complements[2],\n\t\t\t\t\tdata: marriedData.map((el) => el.VarRecuperados),\n\t\t\t\t\tstack: 'stack2',\n\t\t\t\t\tyAxisID: 'total',\n\t\t\t\t\torder: 5,\n\t\t\t\t},\n\t\t\t],\n\t\t};\n\t};\n\tconst options = () => {\n\t\treturn {\n\t\t\tplugins: {\n\t\t\t\tdatalabels: {\n\t\t\t\t\tdisplay: false,\n\t\t\t\t\tcolor: 'blue',\n\t\t\t\t},\n\t\t\t},\n\t\t\tlegend: {\n\t\t\t\tposition: 'bottom',\n\t\t\t\talign: 'start',\n\t\t\t},\n\n\t\t\tanimation: {\n\t\t\t\tduration: 1000,\n\t\t\t},\n\t\t\ttooltips: {\n\t\t\t\tmode: 'index',\n\t\t\t\tintersect: false,\n\t\t\t\tcallbacks: {\n\t\t\t\t\tlabel: (tooltipItem, data) => {\n\t\t\t\t\t\tvar label = data.datasets[tooltipItem.datasetIndex].label;\n\t\t\t\t\t\treturn label + ': ' + formatNumber(parseInt(tooltipItem.value), false);\n\t\t\t\t\t},\n\t\t\t\t\ttitle: (tooltipItem, data) => {\n\t\t\t\t\t\tvar label = data.datasets[tooltipItem[0].datasetIndex];\n\t\t\t\t\t\treturn 'Dia ' + tooltipItem[0].label;\n\t\t\t\t\t},\n\t\t\t\t},\n\t\t\t},\n\t\t\tscales: {\n\t\t\t\tyAxes: [\n\t\t\t\t\t{\n\t\t\t\t\t\tstacked: true,\n\t\t\t\t\t\tticks: {\n\t\t\t\t\t\t\tmaxTicksLimit: window.innerWidth <= RESIZE_TRESHOLD ? 8 : 10,\n\t\t\t\t\t\t\tminTicksLimit: window.innerWidth <= RESIZE_TRESHOLD ? 8 : 10,\n\t\t\t\t\t\t\tcallback: function (value, index, values) {\n\t\t\t\t\t\t\t\treturn formatNumber(value, false);\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t},\n\t\t\t\t\t},\n\t\t\t\t\t{\n\t\t\t\t\t\tstacked: false,\n\t\t\t\t\t\tid: 'total',\n\t\t\t\t\t\tdisplay: false,\n\t\t\t\t\t\tticks: {\n\t\t\t\t\t\t\tmaxTicksLimit: window.innerWidth <= RESIZE_TRESHOLD ? 8 : 10,\n\t\t\t\t\t\t\tminTicksLimit: window.innerWidth <= RESIZE_TRESHOLD ? 8 : 10,\n\t\t\t\t\t\t},\n\t\t\t\t\t},\n\t\t\t\t],\n\t\t\t\txAxes: [\n\t\t\t\t\t{\n\t\t\t\t\t\tstacked: true,\n\t\t\t\t\t\tticks: {\n\t\t\t\t\t\t\tbeginAtZero: true,\n\t\t\t\t\t\t},\n\t\t\t\t\t},\n\t\t\t\t],\n\t\t\t},\n\t\t};\n\t};\n\n\tuseEffect(() => {\n\t\tif (values.length > 0) {\n\t\t\tsetLoading(false);\n\t\t}\n\t}, [values, labels]);\n\n\treturn (\n\t\t<Card allowOverflow={true}>\n\t\t\t<div>{!loading ? <Bar height={80} options={options()} data={data} /> : ''}</div>\n\t\t</Card>\n\t);\n}\n"]},"metadata":{},"sourceType":"module"}