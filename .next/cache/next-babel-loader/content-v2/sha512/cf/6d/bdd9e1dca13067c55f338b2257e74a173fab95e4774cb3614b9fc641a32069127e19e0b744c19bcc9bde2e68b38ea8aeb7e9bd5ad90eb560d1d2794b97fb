{"ast":null,"code":"import { Fragment as _Fragment } from \"react/jsx-runtime\";\nimport { jsxs as _jsxs } from \"react/jsx-runtime\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport { useEffect, useRef, useState } from 'react';\nimport { HorizontalBar } from 'react-chartjs-2';\nimport { formatNumber } from '../../utils';\nimport { Card } from './../Card';\nimport classNames from 'classnames';\nimport { Col, Row } from 'react-bootstrap';\nimport cardStyles from './../Card.module.scss';\nimport { da } from 'date-fns/locale';\nimport ReactCountTo from 'react-count-to';\nlet styles = {\n  'vaccine-label': {\n    textAlign: 'right',\n    fontSize: '12px',\n    lineHeight: '40px',\n    margin: '0px'\n  }\n};\n\nfunction CustomBarChart({\n  type,\n  total,\n  colors,\n  data,\n  showHeading\n}) {\n  let {\n    main,\n    shades,\n    tints,\n    complements\n  } = colors;\n\n  const graphData = canvas => {\n    return {\n      labels: ['moderna', 'cenas', 'cenas'],\n      datasets: [{\n        label: '2ª Dose',\n        type: 'horizontalBar',\n        backgroundColor: main,\n        data: [data.mod[1], data.com[1], data.az[1]],\n        stack: 'stack1'\n      }, {\n        label: '1ª Dose',\n        type: 'horizontalBar',\n        backgroundColor: shades[1],\n        data: [data.mod[0], data.com[0], data.az[0]],\n        stack: 'stack1'\n      }]\n    };\n  };\n\n  const options = () => {\n    return {\n      maintainAspectRatio: false,\n      plugins: {\n        datalabels: {\n          display: false,\n          color: 'white'\n        }\n      },\n      layout: {\n        padding: -5\n      },\n      legend: {\n        display: false,\n        position: 'top',\n        align: 'start',\n        onHover: function (event, legend) {\n          document.body.classList.add('mouse-pointer');\n        },\n        onLeave: function (event, legend) {\n          document.body.classList.remove('mouse-pointer');\n        }\n      },\n      animation: {\n        duration: 1000\n      },\n      tooltips: {\n        mode: 'index',\n        intersect: false,\n        callbacks: {\n          label: (tooltipItem, data) => {\n            var label = data.datasets[tooltipItem.datasetIndex].label;\n            return label + ': ' + formatNumber(parseInt(tooltipItem.value), false);\n          },\n          title: (tooltipItem, data) => {\n            var label = data.datasets[tooltipItem[0].datasetIndex];\n          }\n        }\n      },\n      scales: {\n        yAxes: [{\n          gridLines: {\n            display: true\n          },\n          ticks: {\n            display: false\n          }\n        }],\n        xAxes: [{\n          stacked: true,\n          gridLines: {\n            display: true\n          },\n          ticks: {\n            beginAtZero: true,\n            display: true,\n            max: 500000,\n            stepSize: 500000 / 5,\n            callback: function (value, index, values) {\n              return formatNumber(value, false);\n            }\n          }\n        }]\n      }\n    };\n  };\n\n  return /*#__PURE__*/_jsxs(_Fragment, {\n    children: [/*#__PURE__*/_jsxs(\"div\", {\n      style: {\n        display: 'inline-block',\n        lineHeight: '40px',\n        position: 'relative',\n        width: '19%',\n        height: 150,\n        overflow: 'hidden'\n      },\n      children: [/*#__PURE__*/_jsx(\"p\", {\n        style: styles['vaccine-label'],\n        children: type\n      }), /*#__PURE__*/_jsx(\"p\", {\n        style: styles['vaccine-label'],\n        children: \"Pfizer/BioNTech\"\n      }), /*#__PURE__*/_jsx(\"p\", {\n        style: styles['vaccine-label'],\n        children: \"AstraZeneca\"\n      })]\n    }), /*#__PURE__*/_jsx(\"div\", {\n      style: {\n        display: 'inline-block',\n        lineHeight: '40200',\n        position: 'relative',\n        width: '80%',\n        height: 150,\n        overflow: 'hidden'\n      },\n      className: 'scrollable',\n      children: /*#__PURE__*/_jsx(\"div\", {\n        style: {\n          height: '100%'\n        },\n        children: /*#__PURE__*/_jsx(HorizontalBar, {\n          options: options(),\n          data: graphData\n        })\n      })\n    })]\n  });\n}\n\nexport function RamGruposPrioritarios({\n  statistics,\n  colors\n}) {\n  let {\n    0: loading,\n    1: setLoading\n  } = useState(true);\n  let {\n    main,\n    shades\n  } = colors;\n  let {\n    0: graphData,\n    1: setGraphData\n  } = useState({});\n  useEffect(() => {\n    statistics.getArquipelagoData().then(data => {\n      setGraphData(data[data.length - 1]);\n      setLoading(false);\n    });\n  }, []);\n  let numberFormatter = new Intl.NumberFormat('en-US', {\n    maximumFractionDigits: 2\n  });\n\n  const fn = value => /*#__PURE__*/_jsx(\"h2\", {\n    children: numberFormatter.format(value).replace(/,/gm, ' ')\n  });\n\n  function renderGrupo(el) {\n    if (!el.nome) return;\n    return /*#__PURE__*/_jsx(Col, {\n      xs: 12,\n      lg: 6,\n      children: /*#__PURE__*/_jsxs(Row, {\n        children: [/*#__PURE__*/_jsx(Col, {\n          xs: 12,\n          lg: 12,\n          children: /*#__PURE__*/_jsx(\"div\", {\n            className: cardStyles.ram_subchart,\n            children: /*#__PURE__*/_jsx(\"p\", {\n              children: el.nome\n            })\n          })\n        }), /*#__PURE__*/_jsx(Col, {\n          xs: 6,\n          lg: 6,\n          children: /*#__PURE__*/_jsxs(\"div\", {\n            className: cardStyles.ram_subchart,\n            children: [/*#__PURE__*/_jsx(\"h3\", {\n              children: \"1\\xBA Dose\"\n            }), /*#__PURE__*/_jsx(ReactCountTo, {\n              digits: 0,\n              delay: 1,\n              from: 0,\n              to: el.dose_1,\n              speed: 800,\n              children: fn\n            })]\n          })\n        }), /*#__PURE__*/_jsx(Col, {\n          xs: 6,\n          lg: 6,\n          children: /*#__PURE__*/_jsxs(\"div\", {\n            className: cardStyles.ram_subchart,\n            children: [/*#__PURE__*/_jsx(\"h3\", {\n              children: \"2\\xBA Dose\"\n            }), /*#__PURE__*/_jsx(ReactCountTo, {\n              digits: 0,\n              delay: 1,\n              from: 0,\n              to: el.dose_2,\n              speed: 800,\n              children: fn\n            })]\n          })\n        })]\n      })\n    });\n  }\n\n  return /*#__PURE__*/_jsx(Card, {\n    allowOverflow: true,\n    children: /*#__PURE__*/_jsx(\"div\", {\n      children: !loading ? /*#__PURE__*/_jsx(_Fragment, {\n        children: /*#__PURE__*/_jsx(Row, {\n          className: cardStyles.ram,\n          children: Object.values(graphData.grupos).map(renderGrupo)\n        })\n      }) : ''\n    })\n  });\n}","map":null,"metadata":{},"sourceType":"module"}