{"ast":null,"code":"import { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nvar _jsxFileName = \"/home/pi/Web/mapa-vacinacao-c19/components/graphs/BarsVacinacaoArs.jsx\",\n    _s = $RefreshSig$();\n\nimport { useEffect, useRef, useState } from 'react';\nimport { Bar } from 'react-chartjs-2';\nimport { formatNumber } from '../../utils';\nimport { Card } from './../Card';\nimport classNames from 'classnames';\nimport { Col, Row } from 'react-bootstrap';\nimport { RESIZE_TRESHOLD } from '../../constants';\nvar styles = {\n  'labels-container': {\n    display: 'inline-block',\n    position: 'relative',\n    //width: '15%',\n    width: '0%',\n    height: '126px',\n    overflow: 'hidden',\n    verticalAlign: 'top',\n    padding: '15px 0px'\n  },\n  'labels-label': {\n    textAlign: 'right',\n    fontSize: '12px',\n    marginBottom: '0px',\n    lineHeight: 'calc(100px / 3)'\n  },\n  'graph-container': {\n    display: 'inline-block',\n    lineHeight: '40px',\n    position: 'relative',\n    width: '100%',\n    height: 150,\n    overflow: 'hidden'\n  }\n};\nexport function BarsVacinacaoArs(_ref) {\n  _s();\n\n  var statistics = _ref.statistics,\n      colors = _ref.colors;\n\n  var _useState = useState(true),\n      loading = _useState[0],\n      setLoading = _useState[1];\n\n  var main = colors.main,\n      shades = colors.shades,\n      tints = colors.tints,\n      complements = colors.complements;\n  var snsData = statistics.getTotalSNS();\n  useEffect(function () {\n    setLoading(false);\n  }, []);\n\n  var data = function data(canvas) {\n    if (window.innerWidth <= RESIZE_TRESHOLD) {\n      canvas.parentNode.style.width = RESIZE_TRESHOLD + 'px';\n    } else {\n      canvas.parentNode.style.width = '100%';\n    }\n\n    window.addEventListener('resize', function () {\n      if (window.innerWidth <= RESIZE_TRESHOLD) {\n        canvas.parentNode.style.width = RESIZE_TRESHOLD + 'px';\n      } else {\n        canvas.parentNode.style.width = '100%';\n      }\n    });\n    return {\n      labels: snsData.filter(function (el) {\n        return el.REGION != 'All';\n      }).map(function (el) {\n        return el.REGION.replace('All', 'Nacional');\n      }),\n      datasets: [{\n        label: '1ª Dose',\n        backgroundColor: main,\n        data: snsData.filter(function (el) {\n          return el.REGION != 'All';\n        }).map(function (el) {\n          return el.CUMUL_VAC_1;\n        }),\n        fill: false,\n        stack: 'stack1'\n      }, {\n        label: '2ª Dose',\n        backgroundColor: tints[1],\n        data: snsData.filter(function (el) {\n          return el.REGION != 'All';\n        }).map(function (el) {\n          return el.CUMUL_VAC_2;\n        }),\n        stack: 'stack1'\n      }]\n    };\n  };\n\n  var options = function options() {\n    return {\n      plugins: {\n        datalabels: {\n          display: false,\n          color: 'white'\n        }\n      },\n      layout: {\n        padding: -5\n      },\n      legend: {\n        display: true,\n        position: 'top',\n        align: 'start',\n        onHover: function onHover(event, legend) {\n          document.body.classList.add('mouse-pointer');\n        },\n        onLeave: function onLeave(event, legend) {\n          document.body.classList.remove('mouse-pointer');\n        }\n      },\n      animation: {\n        duration: 1000\n      },\n      tooltips: {\n        mode: 'index',\n        intersect: false,\n        callbacks: {\n          label: function label(tooltipItem, data) {\n            var label = data.datasets[tooltipItem.datasetIndex].label;\n            return label + ': ' + formatNumber(parseInt(tooltipItem.value), false);\n          },\n          title: function title(tooltipItem, data) {\n            var label = data.datasets[tooltipItem[0].datasetIndex];\n          }\n        }\n      },\n      scales: {\n        yAxes: [{\n          gridLines: {\n            display: true\n          },\n          ticks: {\n            display: true,\n            max: 300000,\n            stepSize: 300000 / 5,\n            callback: function callback(value) {\n              return formatNumber(value, false);\n            }\n          }\n        }],\n        xAxes: [{\n          stacked: true,\n          gridLines: {\n            display: true\n          },\n          ticks: {\n            beginAtZero: true,\n            display: true\n          }\n        }]\n      }\n    };\n  };\n\n  return /*#__PURE__*/_jsxDEV(Card, {\n    allowOverflow: true,\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      children: !loading ? /*#__PURE__*/_jsxDEV(_Fragment, {\n        children: /*#__PURE__*/_jsxDEV(Bar, {\n          height: 80,\n          options: options(),\n          data: data\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 155,\n          columnNumber: 7\n        }, this)\n      }, void 0, false) : ''\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 152,\n      columnNumber: 4\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 151,\n    columnNumber: 3\n  }, this);\n}\n\n_s(BarsVacinacaoArs, \"J7PPXooW06IQ11rfabbvgk72KFw=\");\n\n_c = BarsVacinacaoArs;\n\nvar _c;\n\n$RefreshReg$(_c, \"BarsVacinacaoArs\");","map":{"version":3,"sources":["/home/pi/Web/mapa-vacinacao-c19/components/graphs/BarsVacinacaoArs.jsx"],"names":["useEffect","useRef","useState","Bar","formatNumber","Card","classNames","Col","Row","RESIZE_TRESHOLD","styles","display","position","width","height","overflow","verticalAlign","padding","textAlign","fontSize","marginBottom","lineHeight","BarsVacinacaoArs","statistics","colors","loading","setLoading","main","shades","tints","complements","snsData","getTotalSNS","data","canvas","window","innerWidth","parentNode","style","addEventListener","labels","filter","el","REGION","map","replace","datasets","label","backgroundColor","CUMUL_VAC_1","fill","stack","CUMUL_VAC_2","options","plugins","datalabels","color","layout","legend","align","onHover","event","document","body","classList","add","onLeave","remove","animation","duration","tooltips","mode","intersect","callbacks","tooltipItem","datasetIndex","parseInt","value","title","scales","yAxes","gridLines","ticks","max","stepSize","callback","xAxes","stacked","beginAtZero"],"mappings":"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","sourcesContent":["import { useEffect, useRef, useState } from 'react';\nimport { Bar } from 'react-chartjs-2';\nimport { formatNumber } from '../../utils';\nimport { Card } from './../Card';\nimport classNames from 'classnames';\nimport { Col, Row } from 'react-bootstrap';\nimport { RESIZE_TRESHOLD } from '../../constants';\n\nlet styles = {\n\t'labels-container': {\n\t\tdisplay: 'inline-block',\n\t\tposition: 'relative',\n\t\t//width: '15%',\n\t\twidth: '0%',\n\t\theight: '126px',\n\t\toverflow: 'hidden',\n\t\tverticalAlign: 'top',\n\t\tpadding: '15px 0px',\n\t},\n\t'labels-label': {\n\t\ttextAlign: 'right',\n\t\tfontSize: '12px',\n\t\tmarginBottom: '0px',\n\t\tlineHeight: 'calc(100px / 3)',\n\t},\n\t'graph-container': {\n\t\tdisplay: 'inline-block',\n\t\tlineHeight: '40px',\n\t\tposition: 'relative',\n\t\twidth: '100%',\n\t\theight: 150,\n\t\toverflow: 'hidden',\n\t},\n};\n\nexport function BarsVacinacaoArs({ statistics, colors }) {\n\tlet [loading, setLoading] = useState(true);\n\tlet { main, shades, tints, complements } = colors;\n\tlet snsData = statistics.getTotalSNS();\n\n\tuseEffect(() => {\n\t\tsetLoading(false);\n\t}, []);\n\tconst data = (canvas) => {\n\t\tif (window.innerWidth <= RESIZE_TRESHOLD) {\n\t\t\tcanvas.parentNode.style.width = RESIZE_TRESHOLD + 'px';\n\t\t} else {\n\t\t\tcanvas.parentNode.style.width = '100%';\n\t\t}\n\n\t\twindow.addEventListener('resize', () => {\n\t\t\tif (window.innerWidth <= RESIZE_TRESHOLD) {\n\t\t\t\tcanvas.parentNode.style.width = RESIZE_TRESHOLD + 'px';\n\t\t\t} else {\n\t\t\t\tcanvas.parentNode.style.width = '100%';\n\t\t\t}\n\t\t});\n\n\t\treturn {\n\t\t\tlabels: snsData.filter((el) => el.REGION != 'All').map((el) => el.REGION.replace('All', 'Nacional')),\n\t\t\tdatasets: [\n\t\t\t\t{\n\t\t\t\t\tlabel: '1ª Dose',\n\t\t\t\t\tbackgroundColor: main,\n\t\t\t\t\tdata: snsData.filter((el) => el.REGION != 'All').map((el) => el.CUMUL_VAC_1),\n\n\t\t\t\t\tfill: false,\n\t\t\t\t\tstack: 'stack1',\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\tlabel: '2ª Dose',\n\t\t\t\t\tbackgroundColor: tints[1],\n\t\t\t\t\tdata: snsData.filter((el) => el.REGION != 'All').map((el) => el.CUMUL_VAC_2),\n\t\t\t\t\tstack: 'stack1',\n\t\t\t\t},\n\t\t\t],\n\t\t};\n\t};\n\n\tconst options = () => {\n\t\treturn {\n\t\t\tplugins: {\n\t\t\t\tdatalabels: {\n\t\t\t\t\tdisplay: false,\n\t\t\t\t\tcolor: 'white',\n\t\t\t\t},\n\t\t\t},\n\t\t\tlayout: {\n\t\t\t\tpadding: -5,\n\t\t\t},\n\t\t\tlegend: {\n\t\t\t\tdisplay: true,\n\t\t\t\tposition: 'top',\n\t\t\t\talign: 'start',\n\t\t\t\tonHover: function (event, legend) {\n\t\t\t\t\tdocument.body.classList.add('mouse-pointer');\n\t\t\t\t},\n\t\t\t\tonLeave: function (event, legend) {\n\t\t\t\t\tdocument.body.classList.remove('mouse-pointer');\n\t\t\t\t},\n\t\t\t},\n\n\t\t\tanimation: {\n\t\t\t\tduration: 1000,\n\t\t\t},\n\t\t\ttooltips: {\n\t\t\t\tmode: 'index',\n\t\t\t\tintersect: false,\n\t\t\t\tcallbacks: {\n\t\t\t\t\tlabel: (tooltipItem, data) => {\n\t\t\t\t\t\tvar label = data.datasets[tooltipItem.datasetIndex].label;\n\t\t\t\t\t\treturn label + ': ' + formatNumber(parseInt(tooltipItem.value), false);\n\t\t\t\t\t},\n\t\t\t\t\ttitle: (tooltipItem, data) => {\n\t\t\t\t\t\tvar label = data.datasets[tooltipItem[0].datasetIndex];\n\t\t\t\t\t},\n\t\t\t\t},\n\t\t\t},\n\t\t\tscales: {\n\t\t\t\tyAxes: [\n\t\t\t\t\t{\n\t\t\t\t\t\tgridLines: {\n\t\t\t\t\t\t\tdisplay: true,\n\t\t\t\t\t\t},\n\t\t\t\t\t\tticks: {\n\t\t\t\t\t\t\tdisplay: true,\n\t\t\t\t\t\t\tmax: 300_000,\n\t\t\t\t\t\t\tstepSize: 300_000 / 5,\n\t\t\t\t\t\t\tcallback: (value) => formatNumber(value, false),\n\t\t\t\t\t\t},\n\t\t\t\t\t},\n\t\t\t\t],\n\t\t\t\txAxes: [\n\t\t\t\t\t{\n\t\t\t\t\t\tstacked: true,\n\t\t\t\t\t\tgridLines: {\n\t\t\t\t\t\t\tdisplay: true,\n\t\t\t\t\t\t},\n\n\t\t\t\t\t\tticks: {\n\t\t\t\t\t\t\tbeginAtZero: true,\n\t\t\t\t\t\t\tdisplay: true,\n\t\t\t\t\t\t},\n\t\t\t\t\t},\n\t\t\t\t],\n\t\t\t},\n\t\t};\n\t};\n\n\treturn (\n\t\t<Card allowOverflow={true}>\n\t\t\t<div>\n\t\t\t\t{!loading ? (\n\t\t\t\t\t<>\n\t\t\t\t\t\t<Bar height={80} options={options()} data={data}></Bar>\n\t\t\t\t\t</>\n\t\t\t\t) : (\n\t\t\t\t\t''\n\t\t\t\t)}\n\t\t\t</div>\n\t\t</Card>\n\t);\n}\n"]},"metadata":{},"sourceType":"module"}