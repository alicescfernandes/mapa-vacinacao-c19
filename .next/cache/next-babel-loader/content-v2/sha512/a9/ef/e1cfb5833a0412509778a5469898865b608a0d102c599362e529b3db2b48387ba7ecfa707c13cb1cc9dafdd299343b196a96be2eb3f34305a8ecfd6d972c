{"ast":null,"code":"import Cors from 'cors';\nimport ars from './../../data/ars.json';\nimport { trackPlausible } from '../../utils';\n\nfunction initMiddleware(middleware) {\n  return (req, res) => new Promise((resolve, reject) => {\n    middleware(req, res, result => {\n      if (result instanceof Error) {\n        return reject(result);\n      }\n\n      return resolve(result);\n    });\n  });\n}\n\nconst cors = initMiddleware(Cors({\n  methods: ['GET']\n}));\nexport default async function handler(req, res) {\n  trackPlausible(req);\n  await cors(req, res);\n  res.statusCode = 200;\n  res.json(ars);\n}","map":{"version":3,"sources":["/home/pi/Web/mapa-vacinacao-c19/pages/api/ars.js"],"names":["Cors","ars","trackPlausible","initMiddleware","middleware","req","res","Promise","resolve","reject","result","Error","cors","methods","handler","statusCode","json"],"mappings":"AAAA,OAAOA,IAAP,MAAiB,MAAjB;AACA,OAAOC,GAAP,MAAgB,uBAAhB;AACA,SAASC,cAAT,QAA+B,aAA/B;;AACA,SAASC,cAAT,CAAwBC,UAAxB,EAAoC;AACnC,SAAO,CAACC,GAAD,EAAMC,GAAN,KACN,IAAIC,OAAJ,CAAY,CAACC,OAAD,EAAUC,MAAV,KAAqB;AAChCL,IAAAA,UAAU,CAACC,GAAD,EAAMC,GAAN,EAAYI,MAAD,IAAY;AAChC,UAAIA,MAAM,YAAYC,KAAtB,EAA6B;AAC5B,eAAOF,MAAM,CAACC,MAAD,CAAb;AACA;;AACD,aAAOF,OAAO,CAACE,MAAD,CAAd;AACA,KALS,CAAV;AAMA,GAPD,CADD;AASA;;AAED,MAAME,IAAI,GAAGT,cAAc,CAC1BH,IAAI,CAAC;AACJa,EAAAA,OAAO,EAAE,CAAC,KAAD;AADL,CAAD,CADsB,CAA3B;AAMA,eAAe,eAAeC,OAAf,CAAuBT,GAAvB,EAA4BC,GAA5B,EAAiC;AAC/CJ,EAAAA,cAAc,CAACG,GAAD,CAAd;AACA,QAAMO,IAAI,CAACP,GAAD,EAAMC,GAAN,CAAV;AACAA,EAAAA,GAAG,CAACS,UAAJ,GAAiB,GAAjB;AACAT,EAAAA,GAAG,CAACU,IAAJ,CAASf,GAAT;AACA","sourcesContent":["import Cors from 'cors';\nimport ars from './../../data/ars.json';\nimport { trackPlausible } from '../../utils';\nfunction initMiddleware(middleware) {\n\treturn (req, res) =>\n\t\tnew Promise((resolve, reject) => {\n\t\t\tmiddleware(req, res, (result) => {\n\t\t\t\tif (result instanceof Error) {\n\t\t\t\t\treturn reject(result);\n\t\t\t\t}\n\t\t\t\treturn resolve(result);\n\t\t\t});\n\t\t});\n}\n\nconst cors = initMiddleware(\n\tCors({\n\t\tmethods: ['GET'],\n\t})\n);\n\nexport default async function handler(req, res) {\n\ttrackPlausible(req);\n\tawait cors(req, res);\n\tres.statusCode = 200;\n\tres.json(ars);\n}\n"]},"metadata":{},"sourceType":"module"}