{"ast":null,"code":"import { jsxs as _jsxs } from \"react/jsx-runtime\";\nimport { useEffect } from 'react';\nexport function Notifications(_ref) {\n  var children = _ref.children;\n\n  function allowNotifications() {\n    OneSignal.getNotificationPermission().then(function (e) {\n      if (e !== 'granted') {\n        OneSignal.showNativePrompt();\n      } else {\n        alert('Já recebe as nossas notificações');\n      }\n    });\n  }\n\n  useEffect(function () {\n    window.OneSignal = window.OneSignal || [];\n    var OneSignal = window.OneSignal; //OneSignal.log.setLevel('trace');\n\n    OneSignal.push(function () {\n      OneSignal.init({\n        appId: 'cfd30a9a-e080-4657-851f-e5063de051c6',\n        safari_web_id: 'web.onesignal.auto.2c31ff0c-1624-4aec-8f89-a4f0b1da0ea1'\n      });\n      OneSignal.getNotificationPermission().then(function (e) {\n        if (e === 'granted') {}\n      });\n      OneSignal.on('notificationDisplay', function (event) {\n        new Notification(event.heading, {\n          body: event.content,\n          icon: '/android-icon-192x192.png'\n        });\n      });\n      OneSignal.on('subscriptionChange', function (isSubscribed) {// console.log(\"The user's subscription state is now:\", isSubscribed);\n      });\n    });\n  }, []);\n  return /*#__PURE__*/_jsxs(\"span\", {\n    onClick: allowNotifications,\n    children: [children, \" \"]\n  });\n}","map":null,"metadata":{},"sourceType":"module"}